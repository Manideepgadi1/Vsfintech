<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Risk-Reward Analysis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}?v=12">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="duration-selector">
                <label>Duration</label>
                <select id="duration">
                    <option value="3years" selected>3 Years</option>
                    <option value="5years">5 Years</option>
                    <option value="all">All Time</option>
                </select>
                <input type="text" id="search-box" placeholder="Search indices..." onkeyup="searchIndices()">
                <div class="column-toggles">
                    <label class="toggle-label">
                        <input type="checkbox" id="toggle-v1" checked onchange="toggleColumn('v1')">
                        <span>V1</span>
                    </label>
                    <label class="toggle-label">
                        <input type="checkbox" id="toggle-rmom" checked onchange="toggleColumn('rmom')">
                        <span>RMom</span>
                    </label>
                </div>
                <span class="note">Click any index name to view its metrics</span>
            </div>
        </div>

        <div id="loading" class="loading">Loading data...</div>
        
        <div id="data-table-container" class="data-table-container hidden">
            <table class="data-table">
                <thead>
                    <tr>
                        <th class="category-header">
                            <div class="category-name" onclick="viewCategoryHeatmap('Broad')">Broad <span class="sort-icon" onclick="event.stopPropagation(); sortCategory('Broad', 'name')">⇅</span></div>
                            <div class="metric-headers">
                                <span class="sortable" onclick="sortCategory('Broad', 'ret')">Ret <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Broad', 'risk')">Risk <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Broad', 'v1')">V1 <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Broad', 'rmom')">RMom <span class="sort-icon">⇅</span></span>
                            </div>
                        </th>
                        <th class="category-header">
                            <div class="category-name" onclick="viewCategoryHeatmap('Sector')">Sector <span class="sort-icon" onclick="event.stopPropagation(); sortCategory('Sector', 'name')">⇅</span></div>
                            <div class="metric-headers">
                                <span class="sortable" onclick="sortCategory('Sector', 'ret')">Ret <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Sector', 'risk')">Risk <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Sector', 'v1')">V1 <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Sector', 'rmom')">RMom <span class="sort-icon">⇅</span></span>
                            </div>
                        </th>
                        <th class="category-header">
                            <div class="category-name" onclick="viewCategoryHeatmap('Strategy')">Strategy <span class="sort-icon" onclick="event.stopPropagation(); sortCategory('Strategy', 'name')">⇅</span></div>
                            <div class="metric-headers">
                                <span class="sortable" onclick="sortCategory('Strategy', 'ret')">Ret <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Strategy', 'risk')">Risk <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Strategy', 'v1')">V1 <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Strategy', 'rmom')">RMom <span class="sort-icon">⇅</span></span>
                            </div>
                        </th>
                        <th class="category-header">
                            <div class="category-name" onclick="viewCategoryHeatmap('Thematic')">Thematic <span class="sort-icon" onclick="event.stopPropagation(); sortCategory('Thematic', 'name')">⇅</span></div>
                            <div class="metric-headers">
                                <span class="sortable" onclick="sortCategory('Thematic', 'ret')">Ret <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Thematic', 'risk')">Risk <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Thematic', 'v1')">V1 <span class="sort-icon">⇅</span></span>
                                <span class="sortable" onclick="sortCategory('Thematic', 'rmom')">RMom <span class="sort-icon">⇅</span></span>
                            </div>
                        </th>
                    </tr>
                </thead>
                <tbody id="table-body">
                    <!-- Data will be populated here by JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}?v=201"></script>
</body>
</html>
